2024-05-17 07:42:51.710 +05:00 [WRN] Failed to determine the https port for redirect.
2024-05-17 07:42:53.027 +05:00 [ERR] An unhandled exception has occurred while executi2024-05-17 07:42:53.027 +05:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentOutOfRangeException: IDX10653: The encryption algorithm 'HS256' requires a key size of at least '128' bits. Key '[PII of type 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]', is of size: '120'. (Parameter 'key')
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider..ctor(SecurityKey key, String algorithm, Boolean willCreateSignatures)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateSignatureProvider(SecurityKey key, String algorithm, Boolean willCreateSignatures, Boolean cacheProvider)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateForSigning(SecurityKey key, String algorithm, Boolean cacheProvider)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateForSigning(SecurityKey key, String algorithm)
   at Microsoft.IdentityModel.JsonWebTokens.JwtTokenUtilities.CreateEncodedSignature(String input, SigningCredentials signingCredentials)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.WriteToken(SecurityToken token)
   at AirAstanaService.Application.Services.AuthService.GenerateJwtToken(User user) in /Users/dauletturlykozha/RiderProjects/AirAstanaService/AirAstanaService/Application/Services/AuthService.cs:line 54
   at AirAstanaService.Application.Services.AuthService.Authenticate(UserLoginDto userLoginDto) in /Users/dauletturlykozha/RiderProjects/AirAstanaService/AirAstanaService/Application/Services/AuthService.cs:line 31
   at AirAstanaService.Presentation.Controllers.AuthController.Login(UserLoginDto userLoginDto) in /Users/dauletturlykozha/RiderProjects/AirAstanaService/AirAstanaService/Presentation/Controllers/AuthController.cs:line 21
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-17 07:44:53.525 +05:00 [WRN] Failed to determine the https port for redirect.
2024-05-17 07:46:51.899 +05:00 [ERR] An unhandled exception has occurred while executi2024-05-17 07:46:51.899 +05:00 [ERR] An unhandled exception has occurred while executing the request.
StackExchange.Redis.RedisConnectionException: The message timed out in the backlog attempting to send because no connection became available (5000ms) - Last Connection Exception: UnableToConnect on localhost:6379/Interactive, Initializing/NotStarted, last: NONE, origin: BeginConnectAsync, outstanding: 0, last-read: 0s ago, last-write: 0s ago, keep-alive: 60s, state: Connecting, mgr: 10 of 10 available, last-heartbeat: never, global: 0s ago, v: 2.7.27.49176, command=EVAL, timeout: 5000, inst: 0, qu: 0, qs: 0, aw: False, bw: CheckingForTimeout, last-in: 0, cur-in: 0, sync-ops: 0, async-ops: 1, serverEndpoint: localhost:6379, conn-sec: n/a, aoc: 0, mc: 1/1/0, mgr: 10 of 10 available, clientName: MacBook-Air-Daulet(SE.Redis-v2.7.27.49176), IOCP: (Busy=0,Free=1000,Min=1,Max=1000), WORKER: (Busy=1,Free=32766,Min=8,Max=32767), POOL: (Threads=9,QueuedItems=0,CompletedItems=287,Timers=12), v: 2.7.27.49176 (Please take a look at this article for some common client-side issues that can cause timeouts: https://stackexchange.github.io/StackExchange.Redis/Timeouts)
 ---> StackExchange.Redis.RedisConnectionException: UnableToConnect on localhost:6379/Interactive, Initializing/NotStarted, last: NONE, origin: BeginConnectAsync, outstanding: 0, last-read: 0s ago, last-write: 0s ago, keep-alive: 60s, state: Connecting, mgr: 10 of 10 available, last-heartbeat: never, global: 0s ago, v: 2.7.27.49176
   --- End of inner exception stack trace ---
   at StackExchange.Redis.RedisDatabase.ScriptEvaluateAsync(String script, RedisKey[] keys, RedisValue[] values, CommandFlags flags) in /_/src/StackExchange.Redis/RedisDatabase.cs:line 1551
   at Microsoft.Extensions.Caching.StackExchangeRedis.RedisCache.SetAsync(String key, Byte[] value, DistributedCacheEntryOptions options, CancellationToken token)
   at AirAstanaService.Application.Services.FlightService.UpdateCache() in /Users/dauletturlykozha/RiderProjects/AirAstanaService/AirAstanaService/Application/Services/FlightService.cs:line 71
   at AirAstanaService.Application.Services.FlightService.AddFlightAsync(Flight flight) in /Users/dauletturlykozha/RiderProjects/AirAstanaService/AirAstanaService/Application/Services/FlightService.cs:line 52
   at AirAstanaService.Presentation.Controllers.FlightController.PostFlight(Flight flight) in /Users/dauletturlykozha/RiderProjects/AirAstanaService/AirAstanaService/Presentation/Controllers/FlightController.cs:line 34
   at lambda_method62(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.As2024-05-17 07:47:44.874 +05:00 [ERR] An unhandled exception has occurred while executi2024-05-17 07:47:44.874 +05:00 [ERR] An unhandled exception has occurred while executing the request.
StackExchange.Redis.RedisConnectionException: The message timed out in the backlog attempting to send because no connection became available (5000ms) - Last Connection Exception: UnableToConnect on localhost:6379/Interactive, Initializing/NotStarted, last: NONE, origin: BeginConnectAsync, outstanding: 0, last-read: 0s ago, last-write: 0s ago, keep-alive: 60s, state: Connecting, mgr: 10 of 10 available, last-heartbeat: never, global: 0s ago, v: 2.7.27.49176, command=EVAL, timeout: 5000, inst: 0, qu: 0, qs: 0, aw: False, bw: CheckingForTimeout, rs: NotStarted, ws: Initializing, in: 0, last-in: 0, cur-in: 0, sync-ops: 0, async-ops: 2, serverEndpoint: localhost:6379, conn-sec: n/a, aoc: 0, mc: 1/1/0, mgr: 10 of 10 available, clientName: MacBook-Air-Daulet(SE.Redis-v2.7.27.49176), IOCP: (Busy=0,Free=1000,Min=1,Max=1000), WORKER: (Busy=1,Free=32766,Min=8,Max=32767), POOL: (Threads=8,QueuedItems=0,CompletedItems=1221,Timers=12), v: 2.7.27.49176 (Please take a look at this article for some common client-side issues that can cause timeouts: https://stackexchange.github.io/StackExchange.Redis/Timeouts)
 ---> StackExchange.Redis.RedisConnectionException: UnableToConnect on localhost:6379/Interactive, Initializing/NotStarted, last: NONE, origin: BeginConnectAsync, outstanding: 0, last-read: 0s ago, last-write: 0s ago, keep-alive: 60s, state: Connecting, mgr: 10 of 10 available, last-heartbeat: never, global: 0s ago, v: 2.7.27.49176
   --- End of inner exception stack trace ---
   at StackExchange.Redis.RedisDatabase.ScriptEvaluateAsync(String script, RedisKey[] keys, RedisValue[] values, CommandFlags flags) in /_/src/StackExchange.Redis/RedisDatabase.cs:line 1551
   at Microsoft.Extensions.Caching.StackExchangeRedis.RedisCache.SetAsync(String key, Byte[] value, DistributedCacheEntryOptions options, CancellationToken token)
   at AirAstanaService.Application.Services.FlightService.UpdateCache() in /Users/dauletturlykozha/RiderProjects/AirAstanaService/AirAstanaService/Application/Services/FlightService.cs:line 71
   at AirAstanaService.Application.Services.FlightService.AddFlightAsync(Flight flight) in /Users/dauletturlykozha/RiderProjects/AirAstanaService/AirAstanaService/Application/Services/FlightService.cs:line 52
   at AirAstanaService.Presentation.Controllers.FlightController.PostFlight(Flight flight) in /Users/dauletturlykozha/RiderProjects/AirAstanaService/AirAstanaService/Presentation/Controllers/FlightController.cs:line 34
   at lambda_method62(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.As2024-05-17 07:55:13.852 +05:00 [INF] Added new flight: {"ID":3,"Origin":"NRT","Destina2024-05-17 07:55:13.852 +05:00 [INF] Added new flight: {"ID":3,"Origin":"NRT","Destination":"JFK","Departure":"2024-05-17T02:45:19.7420000+00:2024-05-17 07:55:14.034 +05:00 [INF] Added new flight: {"ID":4,"Origin":"NRT","Destina2024-05-17 07:55:14.034 +05:00 [INF] Added new flight: {"ID":4,"Origin":"NRT","Destination":"JFK","Departure":"2024-05-17T02:45:19.7420000+00:2024-05-17 07:57:06.029 +05:00 [INF] Fetching flights with origin: NRT and destination2024-02024-05-17 07:59:17.595 +05:00 [INF] Fetching flights with origin: NRT and destination2024-02024-05-17 07:59:31.303 +05:00 [INF] Fetching flights with origin: NRT and destination2024-02024-05-17 08:00:13.030 +05:00 [INF] Fetching flights with origin: NRT and destination2024-05-17 08:00:13.030 +05:00 [INF] Fetching flights with origin: NRT and destination: JFK
2024-05-17 08:04:16.936 +05:00 [WRN] Failed to determine the https port for redirect.
2024-05-17 08:04:17.107 +05:00 [INF] Fetching flights with origin: NRT and destination2024-02024-05-17 08:04:29.721 +05:00 [INF] Deleted flight with ID: 3
2024-05-17 08:05:05.263 +05:00 [INF] Deleted flight with ID: 3
2024-05-17 08:05:40.297 +05:00 [INF] Fetching flights with origin: NRT and destination2024-02024-05-17 08:06:18.265 +05:00 [INF] Added new flight: {"ID":5,"Origin":"ALM","Destina2024-05-17 08:06:18.265 +05:00 [INF] Added new flight: {"ID":5,"Origin":"ALM","Destination":"AST","Departure":"2024-05-17T03:06:10.3230000+00:2024-05-17 08:06:36.973 +05:00 [INF] Fetching flights with origin: ALM and destination2024-02024-05-17 08:06:41.605 +05:00 [INF] Fetching flights with origin: ALM and destination2024-02024-05-17 08:09:33.755 +05:00 [INF] Fetching flights with origin: ALM and destination2024-052024-05-17 08:09:39.143 +05:00 [INF] Fetching flights with origin: ALM and destination2024-02024-05-17 08:09:45.278 +05:00 [INF] Fetching flights with origin: ALM and destination2024-02024-05-17 08:10:34.781 +05:00 [INF] Fetching flights with origin: ALM and destination2024-05-17 08:10:34.781 +05:00 [INF] Fetching flights with origin: ALM and destination: AST
2024-05-17 08:18:30.161 +05:00 [WRN] Failed to determine the https port for redirect.
2024-05-17 08:18:30.370 +05:00 [INF] Adding flight to database.
2024-05-17 08:18:31.245 +05:00 [INF] Updating cache.
2024-05-17 08:18:31.525 +05:00 [INF] Added new flight: {"ID":6,"Origin":"DDD","Destina2024-05-17 08:18:31.525 +05:00 [INF] Added new flight: {"ID":6,"Origin":"DDD","Destination":"BBB","Departure":"2024-05-17T03:18:19.6700000+00:2024-05-17 08:21:04.609 +05:00 [INF] Fetching flights with origin: DDD and destination2024-02024-05-17 08:21:04.613 +05:00 [INF] Fetching flights from cache.
2024-05-17 08:21:04.623 +05:00 [INF] Flights found in cache.
2024-05-17 08:45:12.141 +05:00 [INF] Fetching flights with origin: DDD and destination2024-02024-05-17 08:45:12.143 +05:00 [INF] Fetching flights from cache.
2024-05-17 08:45:12.156 +05:00 [INF] Flights found in cache.
hing flights from cache.
2024-05-17 08:45:12.156 +05:00 [INF] Flights found in cache.
2024-05-17 14:48:53.412 +05:00 [WRN] Failed to determine the https port for redirect.
2024-05-17 14:49:33.785 +05:00 [INF] Fetching flights with origin: NRT and destination2024-02024-05-17 14:49:50.033 +05:00 [INF] Added new flight: {"ID":7,"Origin":"AAS","Destina2024-05-17 14:49:50.033 +05:00 [INF] Added new flight: {"ID":7,"Origin":"AAS","Destination":"AAK","Departure":"2024-05-17T09:49:39.6880000+00:2024-05-17 14:50:59.069 +05:00 [INF] Fetching flights with origin: AAS and destination2024-05-17 14:50:59.069 +05:00 [INF] Fetching flights with origin: AAS and destination: AAK
